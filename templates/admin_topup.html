{% extends "base.html" %}
{% block title %}Admin Top-Up â€¢ Lead Machine Pro{% endblock %}

{% block content %}
<style>
  .wrap{max-width:520px;margin:30px auto 0;}
  .card2{
    border:1px solid rgba(255,255,255,0.12);
    background: rgba(255,255,255,0.05);
    border-radius: 20px;
    padding: 20px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.55), 0 0 45px rgba(0,255,255,0.10);
  }
  label{display:block;font-size:12px;color:rgba(255,255,255,0.78);margin:0 0 6px;}
  input{
    width:100%;
    padding:12px 14px;
    border-radius:16px;
    border:1px solid rgba(255,255,255,0.14);
    background: rgba(0,0,0,0.35);
    color: rgba(255,255,255,0.92);
    outline:none;
  }
  input:focus{border-color: rgba(0,255,255,0.45); box-shadow: 0 0 0 1px rgba(0,255,255,0.20);}
  .grid{display:grid;gap:12px;margin-top:14px;}
  .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin-top:12px;}
  .mini{font-size:12px;color:rgba(255,255,255,0.65);}
</style>

<div class="wrap">
  <div class="card2">
    <h2 style="margin:0 0 6px;">Admin credit top-up</h2>
    <p class="mini" style="margin:0 0 14px;">
      Add or remove credits for a user by email. Use negative numbers to subtract.
    </p>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, msg in messages %}
          <div class="flash {{category}}">{{ msg }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <form method="POST" class="grid">
      <div>
        <label for="email">User email</label>
        <input id="email" name="email" type="email" placeholder="customer@company.com" required />
      </div>

      <div>
        <label for="amount">Credits to add</label>
        <input id="amount" name="amount" type="number" placeholder="25" required />
        <div class="mini" style="margin-top:6px;">Examples: 10, 25, 100. Use -10 to remove.</div>
      </div>

      <div class="row">
        <button class="btn primary" type="submit">Apply top-up</button>
        <a class="btn" href="/admin/dashboard">Back to admin dashboard</a>
      </div>
    </form>

    <hr style="border:none;border-top:1px solid rgba(255,255,255,0.12);margin:16px 0;">

    <p class="mini" style="margin:0 0 10px;">Quick amounts:</p>
    <div class="row">
      <button class="btn" onclick="document.getElementById('amount').value=10; return false;">+10</button>
      <button class="btn" onclick="document.getElementById('amount').value=25; return false;">+25</button>
      <button class="btn" onclick="document.getElementById('amount').value=100; return false;">+100</button>
      <button class="btn" onclick="document.getElementById('amount').value=-10; return false;">-10</button>
    </div>
  </div>
</div>
{% endblock %}
